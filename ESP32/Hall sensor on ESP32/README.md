## **ESP32 Hall Effect Sensor Project:**

### [Video Link](https://youtu.be/vyDZdwk76Jk)

The ESP32 board has a built-in  **Hall Effect sensor**  also. This sensor is a simple piece of wire with a continuous current flowing through it.

When the magnetic field is placed around it, the charge carriers, electrons, and holes are deflected to either side. This deflection or imbalance generates a voltage difference across the sensor material. This generated voltage difference is used to measure the strength of the magnetic field.

![Working of Hall effect sensor](https://www.etechnophiles.com/wp-content/uploads/2021/03/Working-of-Hall-effect-sensor.gif)

Working of Hall effect sensor

**NOTE:**  The Arduino IDE has a  hallRead()  function that returns this voltage difference generated by the magnetic field in the form of analog value(stronger the external magnetic field, larger is the analog value returned by the function).

### **Materials Required:**

-   ESP32 Module
-   Arduino IDE
-   Micro USB cable
-   Small Magnet

**Step 1** **:**  Connect the ESP32 module to the computer through a micro-USB cable. The RED LED on the board lights up once the board is powered.

**Step 2** **:**  Go to  **Tools> Board**  from the top menu and click on the “**ESP32 Arduino”** option. Now select the ESP32 board type you are using. I have selected the  ESP32 dev module.

**Step 3** **:**  Now go to  **Tools>Port**, and select the port to which the board is connected.

**Step 4** **:** Paste/write the ESP32 hall effect program given below in Arduino IDE.

**Step 5** **:** Click the upload option to upload the code. Don’t forget to press and hold the BOOT button during the uploading process.

### **Program to use ESP32 Hall-effect Sensor:**
```c
int magnetic_value=0;
void setup() {
  // put your setup code here, to run once:
  Serial.begin(115200);
}

void loop() {
  // put your main code here, to run repeatedly:
  magnetic_value=hallRead();
  Serial.print("ESP32 Hall effect sensor value value: ");
  Serial.println(magnetic_value);
  delay(2000);
}
```
 

**OBJECTIVE** **:**  Print the values returned by the built-in hall effect sensor.

### **Code Explanation:**

int magnetic_value=0;

-   Declare a variable named  magnetic_value  of the integer data type to hold the value returned by the hallRead()  function.

#### **Inside the void setup() function:**

Serial.begin(115200);

-   Serial.begin() function starts the serial data communication between the Arduino board and the Arduino IDE.
-   The argument of the  Serial.begin()  function sets the data rate in bits per second (baud) for serial data transmission. Here we are setting the data rate as 115200 bits per second.
-   Supported baud rates are 300, 600, 1200, 2400, 4800, 9600, 14400, 19200, 28800, 31250, 38400, 57600, and 115200.

#### **Inside the void loop() function:**

magnetic_value=hallRead();

-   Assign the value return by the  hallRead()  function to the variable declared above i.e.,  magnetic_value.

Serial.print("ESP32 Hall effect sensor value value: ");
Serial.println(magnetic_value);
delay(2000);

-   Serial.println()  function prints the value returned by the  hallRead()  function by using the variable magnetic_value.
-   As explained earlier, the  hallRead()  function is used to read the value of the hall effect sensor by accepting the GPIO pin number as the argument. And with the increase in the external magnetic field around the sensor, the value returned by the  hallRead()  increases.
-   The  delay()  function stops the program for 1 second (1000 milliseconds).

**NOTE:**  And as these statements are inside the loop() function, the code runs in an infinite loop and prints the sensor values every second.

![Fluctuating magnetic field measured using ESP32 Hall effect sensor](https://www.etechnophiles.com/wp-content/uploads/2021/03/result_halleffect.jpg?ezimgfmt=rs:714x309/rscb40/ng:webp/ngcb40)

Fluctuating magnetic field measured using ESP32 Hall effect sensor

**Step 6** **:** Place the magnet directly above the ESP32 Wroom chip and observe the readings on the serial monitor. Bring the magnet closer to the chip or rotate the face of the magnet 180 degrees.

**Note:** Negative reading means the electrons are deflected to the other side now OR the magnet facing the chip is turned 180 degrees.